{% extends "base.html" %}

{% block content %}
<div class="container">
    <!-- Moderator Actions Section -->
    {% if is_moderator %}
    <div class="mod-actions-section">
        <div class="mod-actions-card">
            <div class="mod-action-item">
                <span class="mod-action-label">ğŸ“‹ Pending Requests</span>
                <div class="mod-action-content">
                    <span class="pending-count-badge">{{ pending_count }}</span>
                    <a href="/modcp/requests" class="btn-view-requests">View Requests</a>
                </div>
            </div>
        </div>
        <div class="mod-actions-card">
            <div class="mod-action-item">
                <span class="mod-action-label">ğŸ’¬ Chat</span>
                <div class="mod-action-content">
                    <a href="https://chat.obnoxious.lol" target="_blank" rel="noopener noreferrer" class="btn-chat">Open Chat/IRC</a>
                </div>
            </div>
        </div>
        <div class="mod-actions-card">
            <div class="mod-action-item">
                <span class="mod-action-label"> ğŸ“– API</span>
                <div class="mod-action-content">
                    <a href="/api-docs" target="_blank" rel="noopener noreferrer" class="btn-chat">Open API Documentation</a>
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <!-- Chat Button for Non-Moderators -->
    <div class="chat-section">
        <a href="https://chat.obnoxious.lol" target="_blank" rel="noopener noreferrer" class="btn-chat-hero">
            ğŸ’¬ Join Chat/IRC
        </a>
        <a href="/api-docs" class="btn-api-docs">
            ğŸ“– API Documentation
        </a>
    </div>
    {% endif %}

    <!-- Search Section -->
    <div class="search-section">
        <h2 class="search-title">Find Your Game</h2>
        <p class="search-subtitle">Search through our collection of Nintendo Switch games</p>
        
        <div class="search-box">
            <input 
                type="text" 
                id="search-input" 
                class="search-input" 
                placeholder="Type game name to search..."
                autocomplete="off"
            >
        </div>
    </div>

    <!-- Results Section -->
    <div class="results-section">
        <div class="results-header">
            <h3>Results</h3>
            <div id="results-count" class="results-count">Loading...</div>
        </div>

        <!-- Loading State -->
        <div id="loading-state" class="loading">
            Loading entries
        </div>

        <!-- Results Grid -->
        <div id="results-grid" class="results-grid hidden">
            <!-- Results will be dynamically inserted here -->
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="empty-state hidden">
            <div class="empty-state-icon">ğŸ”</div>
            <div class="empty-state-title">No Results Found</div>
            <div class="empty-state-message">Try adjusting your search terms</div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', path='js/search.js') }}"></script>
{% endblock %}