<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }} | {{ app_name|default('Switch Game Repository') }}</title>
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
</head>
<body>
    <header>
        <div class="container header-content">
            <h1><a href="/" class="site-name">üéÆ {{ app_name|default('Switch Game Repository') }}</a></h1>
            <div class="header-actions">
                {% if request.session.get('username') %}
                    <div class="user-menu">
                        <span class="user-info">
                            üë§ {{ request.session.get('username') }}
                        </span>
                        {% if request.session.get('is_admin') %}
                            <a href="/admincp" class="btn-admin">‚öôÔ∏è Admin</a>
                        {% endif %}
                        {% if request.session.get('is_moderator') or request.session.get('is_admin') %}
                            <a href="/modcp" class="btn-mod">üõ°Ô∏è Mod CP</a>
                        {% endif %}
                        {% if request.session.get('is_uploader') or request.session.get('is_moderator') or request.session.get('is_admin') %}
                            <a href="/uploadercp" class="btn-uploader">üì§ Uploader</a>
                        {% endif %}
                        <a href="/requests" class="btn-requests">üìù Requests</a>
                        <a href="/settings" class="btn-settings">‚öôÔ∏è Settings</a>
                        <a href="/logout" class="btn-logout">Logout</a>
                    </div>
                {% else %}
                    <div class="auth-links">
                        <a href="/login" class="btn-login">Login</a>
                        <a href="/register" class="btn-register">Register</a>
                    </div>
                {% endif %}
            </div>
        </div>
    </header>

    {% block content %}{% endblock %}

    <footer>
        <div class="container">
            ¬© 2026 {{ app_name|default('Switch Game Repository') }} - Community Edition
        </div>
    </footer>
    
    <style>
        .site-name {
            color: inherit;
            text-decoration: none;
            transition: opacity 0.2s;
        }
        
        .site-name:hover {
            opacity: 0.8;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .user-menu {
            display: flex;
            gap: 12px;
            align-items: center;
        }
        
        .user-info {
            color: #fff;
            font-weight: 600;
            padding: 8px 16px;
            background: #333;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .auth-links {
            display: flex;
            gap: 10px;
        }
        
        .btn-login, .btn-register, .btn-logout, .btn-settings, .btn-admin, .btn-mod, .btn-requests {
            padding: 8px 16px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .btn-login {
            background: #444;
            color: #fff;
        }
        
        .btn-login:hover {
            background: #555;
        }
        
        .btn-register {
            background: linear-gradient(135deg, #5a9fd4, #4a7fb4);
            color: #fff;
        }
        
        .btn-register:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(90, 159, 212, 0.4);
        }
        
        .btn-admin {
            background: #ff8c00;
            color: #fff;
        }
        
        .btn-admin:hover {
            background: #ff9d1a;
            transform: translateY(-2px);
        }
        
        .btn-mod {
            background: #6c5ce7;
            color: #fff;
        }
        
        .btn-mod:hover {
            background: #5f4dd8;
            transform: translateY(-2px);
        }
        
        .btn-requests {
            background: #444;
            color: #fff;
        }
        
        .btn-requests:hover {
            background: #555;
        }
        
        .btn-settings {
            background: #444;
            color: #fff;
        }
        
        .btn-settings:hover {
            background: #555;
        }
        
        .btn-logout {
            background: #d9534f;
            color: #fff;
        }
        
        .btn-logout:hover {
            background: #c9302c;
        }
    </style>
</body>
</html>